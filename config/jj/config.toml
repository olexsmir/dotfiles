#:schema https://jj-vcs.github.io/jj/latest/config-schema.json

[user]
name = "Olexandr Smirnov"
email = "olexsmir@gmail.com"

[ui]
default-command = "l"
editor = "nvim"
pager = "delta"
diff-formatter = ":git"
merge-editor = ["nvim", "-d"]

[git]
sign-on-push = true
auto-local-bookmark = true

[aliases]
d = ["diff"]
l = ["log", "-r", "ancestors(reachable(@, mutable()), 3)"]
llog = ["log", "-T", "builtin_log_detailed"]
n = ["new"]
push = ["git", "push"]
tug = ["bookmark", "move", "--from", "heads(::@- & bookmarks())", "--to", "@-"]

[templates]
draft_commit_description = '''
concat(
  coalesce(description, default_commit_description, "\n"),
  "\nJJ: ignore-rest\n",
  diff.git(),
)
'''

[template-aliases]
"format_timestamp(timestamp)" = "timestamp.ago()"
