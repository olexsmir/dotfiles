#:schema https://jj-vcs.github.io/jj/latest/config-schema.json

[user]
name = "Olexandr Smirnov"
email = "olexsmir@gmail.com"

[ui]
default-command = "l"
editor = "nvim"
pager = "delta"
diff-formatter = ":git"

[signing]
backend = "ssh"
key = "~/.ssh/id_ed25519.pub"

[git]
sign-on-push = true
auto-local-bookmark = true
private-commits = "private()"
# push-bookmark-prefix = "olexsmir/"

[aliases]
l = ["log", "-r", "ancestors(reachable(@, mutable()), 3)"]
tug = ["bookmark", "move", "--from", "heads(::@- & bookmarks())", "--to", "@-"]

[templates]
draft_commit_description = '''
concat(
  coalesce(description, default_commit_description, "\n"),
  "JJ: ignore-rest\n",
  diff.git(),
)
'''

[template-aliases]
"format_timestamp(timestamp)" = "timestamp.ago()"

[revset-aliases]
"private()" = "description(glob:'private:*')"
